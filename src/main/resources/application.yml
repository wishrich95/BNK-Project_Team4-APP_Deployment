logging:
  file:
    name: logs/Busanbank.log
  level:
    root: info
mybatis:
  mapper-locations: classpath:mappers/**/*.xml
server:
  port: 8080
  servlet:
    context-path: /busanbank
    session:
      timeout: 30m  # 세션 타임아웃 (분 단위, 기본값 30분)
  tomcat:
    uri-encoding: UTF-8
spring:
  application:
    name: Busanbank
    version: 1.0.0-RELEASE
  data:
    redis:
      host: 127.0.0.1  # 배포할 때, 127.0.0.1 로 수정해서 진행
      port: 6379
  datasource:
    driver-class-name: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@34.158.204.102:1521/XEPDB1
    username: bnkproject
    password: abc1234
    hikari:
      maximumPoolSize: 10
      minimumIdle: 3
      idleTimeout: 180000        # 3분
      maxLifetime: 300000        # 5분
      connectionTimeout: 30000   # 30초
      validationTimeout: 5000    # 5초
  devtools:
    livereload:
      enabled: true
  jpa:
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    properties:
      hibernate:
        format_sql: true
        show_sql: true
  mail:
    host: smtp.gmail.com
    port: 587
    username: yd89023754@gmail.com
    password: jifeinzsrqaqrrwl
    properties:
      mail:
        smtp:
          auth: true
          timeout: 5000
          starttls:
            required: true
            enable: true
          ssl:
            trust: smtp.gmail.com
  servlet:
    multipart:
      max-file-size: 5MB
      max-request-size: 5MB
  solapi:
    api:
      key: ${SOLAPI_KEY:default_value}
      secret: ${SOLAPI_SECRET:default_value}
      from: ${SOLAPI_FROM:default_value}

  gemini:
    api:
      key: ${GEMINI_KEY:default_value}

  google:
    vision:
      api-key: ${GOOGLE_VISION_API_KEY:default_value}

  openai:
    api-key: ${OPENAI_KEY:default_value}

  aes:
    secret-key: ${AES_SECRET:default_value}

  security:
    user:
      name: user
      password: 1234
      roles: ADMIN

# --- External integrations ---
agora:
  app-id: ${AGORA_APP_ID}
  app-certificate: ${AGORA_APP_CERTIFICATE}
  token-ttl-seconds: 3600

chat:
  assign:
    pullEnabled: true

  call:
    assign:
      enabled: true
      delayMs: 150
      maxPerTick: 20

    assignedTimeoutMs: 15000

    waitingZsetPrefix: "chat:call:waiting:"
    assignedWatchZset: "chat:call:assigned:watch"
    sessionPrefix: "chat:session:"

  redis:
    stream:
      key: chat:stream:messages
      group: chat-msg-workers
    consultant:
      readyZset: chat:consultant:ready
      loadZset: chat:consultant:load
      statusPrefix: "chat:consultant:status:"
      lockPrefix: "chat:consultant:lock:"
    waitingZset: "chat:waitingZset"
    assigningZset: "chat:queue:assigning"

coin:
  api:
    key: 648e877816884b0fb17a020082e40d2f

deepl:
  api-key: f4c76e28-97e3-4802-9c3b-30524c65fec2:fx

gold:
  api:
    key: 59bc0415bb3e4270fce2393e2d74b9d3

file:
  upload:
    path: /var/lib/busanbank/uploads/


firebase:
  credentials-path: ${FIREBASE_CREDENTIALS_PATH}

# jwt 관련 Key 추가
jwt:
  issuer: yd89023754@gmail.com
  secret: E912C15AA2495217ECD6BE5BEA8D1102



#file:
#  upload:
#    path: C:/busanbank/uploads/
